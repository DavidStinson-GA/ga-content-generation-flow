develop_microlesson_content:
  agent: subject_matter_expert
  output_file: output/microlesson-content-from-sme-{id}-{slug}.md
  description: >
    # Objectives

    In this task you will use the following information to develop the content for the microlesson: {title}.

    This microlesson is a part of the module: {module_title}.
    The module is about: {module_topic}.

    The microlesson metadata is as follows:
    - Title: {title}
    - minutes: {minutes}
    - Learning Objective: {learning_objective}
    - Outline: {outline}
    - Learner Persona: {learner_persona}

    Leveraging your deep expertise in {title}, take the provided module metadata (generated by the instructional architect) as your primary input. Your core task is to develop comprehensive, accurate, and engaging content for the microlesson. Ensure all generated content is technically accurate for the module topic, maintains an engaging tone, and is appropriately paced and scaffolded for the specified learner persona.

    You must:

    ## Expand the microlesson outline so that it can be used to teach students in a virtual classroom setting 

    - Provide clear, detailed explanations of the key concepts outlined for that microlesson. 
    - Break down complex ideas into digestible parts suitable for the learner persona. 
    - Include relevant examples, code snippets (if applicable to the module topic), or analogies to illustrate the concepts effectively. 
    - Ensure headings are used to break up the content into logical sections. Headings should be a brief and concise. Headings h2-h4 should be written in sentence case. h5 headings and below should never be used.
    - Do not use any horizontal rules `---` to separate sections of the content.
    - Never include any multiple choice questions or knowledge checks.
    - Do not close the microlesson with a reflection on your work.
    - Do not close the microlesson with a congratulatory message.
    - Do not close the microlesson with next steps.
    - Do not close each microlesson with a recap of the key concepts learned in the microlesson.

    ## Create a detailed activity

    - Each microlesson should have an activity of some kind. This could be one of many types of activities including:
      - Solo exercise
      - Partner exercise
      - Group exercise
      - Discussion
      - Pair programming
      - Mob programming
      - Never include any multiple choice questions or knowledge checks.
    - Transform the preliminary activity idea into a fully realized, step-by-step interactive exercise.
    - Ensure the activity directly supports the specific learning objective of the microlesson and contributes to the overall learning objectives of the microlesson.

    ## Take into account the previous microlessons in the module as you develop this microlesson

    Below is the content from the previous microlessons. Ensure that the content from the previous microlessons is taken into account as you develop the content for this microlesson, as they are generally intended to build upon one another:

    <microlessons_text>
    {microlessons_text}
    </microlessons_text>

    ## Context

    Follow the practices found in our internal documentation found below. Each document has a unique id and title and is fenced off with XML tags.

    <technical_voice id=1 title="Technical Voice" purpose="This critical document outlines the best practices for writing technical content. It provides guidelines for writing clear, accurate, and engaging technical content that is tailored to the broad needs of a technical audience.">
    {doc_technical_voice}
    </technical_voice>

  expected_output: >
    A detailed Markdown document (do not fence off the content with 
    ```markdown or any other delimiters) containing the fully developed content for the microlesson. 
    
    The output document should meticulously follow the structure provided by the input outline, replacing the initial brief descriptions with comprehensive, ready-to-use content.

    The output must include:

    - The title of the microlesson formatted as: # {title}
    - The learning objective of the microlesson formatted as: **Learning Objective:** {learning_objective}
    - Clear, paragraph-based explanations of each concept pertinent to the microlesson objective. Subheadings should be used to break up the content into logical sections and should be named appropriately in sentence case.
    - Formatted examples (for example, code snippets if the module topic is technical, practical scenarios, visual descriptions if applicable).
    - Explanations tailored to the learner persona and follow the best practices from our internal documentation found at the end of this prompt.
    - Activities should follow these guidelines:
      - Numbered, step-by-step instructions for the hands-on task or interactive element.
      - Have a clearly defined deliverable (for example, "Post your code snippet to the chat," "Share your summary on the whiteboard," "Be prepared to explain your result").
      - A refined and thought-provoking discussion prompt related to the activity and relevant to the learner persona.

    The final markdown output must represent complete, accurate, and engaging 
    instructional content for the core microlesson sections, fully aligned with 
    the module topic, learner persona, and learning objectives.
